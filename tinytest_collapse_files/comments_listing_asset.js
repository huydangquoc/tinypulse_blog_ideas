"use strict";!function(t,e){function n(){return{skipAssociateContactReason:v,replyingTo:g}}function o(e){if(!p.exec(t.location.search)){var n="success=true";t.location.search?t.location.search+="&"+n:t.location.search=n}}function r(t,n){var o=e(t);if(!(o&&o.find("form").length>0))return setTimeout(function(){return r(t,n)},f);o.prepend('<div class="hs-comment-message hs-common-confirm-message">'+n+"</div>");setTimeout(function(){return e("html, body").animate({scrollTop:o.offset().top})},f)}function s(e){var n=e.successMessage,o=e.target;p.exec(t.location.search)&&r(o,n)}function a(){var t=void 0===arguments[0]?{}:arguments[0],e=t.successMessage,n=t.target;return function(){return s({successMessage:e,target:n})}}function i(t){for(var e=t.split("."),n=0;n<e.length;n++){var o=e[n];if(4!==o.length||parseInt(o,10)<0||parseInt(o,10)>9999)return!1}return!0}function c(t){var n=location.hash.replace("#","");n&&i(n)&&!function(){var o=e(""+t+" [id='c"+n+"']");o.length>0&&e(function(){return e("html, body").animate({scrollTop:o.offset().top})})}()}function m(t){for(var e=t.split("."),n=-1,o=0;o<e.length;o++){var r=e[o];if("0000"===r)return n;n++}return n}function l(t){e(".comment-reply-to").on("click",function(){var n=e(this).parents(".comment");if(n){g=n.data("threadid");var o=e(t);if(o){e(".comment-reply-to").show();o.find("input[name=replyingTo]").remove();o.hide();o.addClass("replying");var r="Replying to "+e(this).find("em").html(),s=o.children(".replying-to");1===s.length?s.text(r):o.prepend('<span class="replying-to">'+r+"</span>");o.insertAfter(n);o.show();e(this).hide();e("html, body").animate({scrollTop:o.offset().top});o.find(".hs_comment .hs-input").focus()}}})}function u(n){var o=t.hljs;if(o&&o.highlightBlock){o.configure&&o.configure({useBR:!0});var r=e(n);r.find("pre code").each(function(t,e){return o.highlightBlock(e)})}}function h(t){var e=void 0===arguments[1]?{}:arguments[1],n=t.threadId,o=t.userName,r=t.userUrl,s=e.maxThreadDepth,a=e.showForm,i=m(n),c=s>i&&a,l=t.comment.replace(/\n/g,"<br/>"),u=new Date(t.createdAt).toLocaleString(),h='\n      <div id="c'+n+'" class="comment depth-'+i+'" data-threadid="'+n+'">\n      <div class="comment-from">\n      <h4>\n      ';h+=r?'<a href="'+r+'" rel="nofollow" target="_blank">'+o+"</a>":o;h+='\n      </h4>\n      </div>\n      <div class="comment-date">'+u+'</div>\n      <div class="comment-body"><p>'+l+"</p></div>\n      ";c&&(h+='<button class="comment-reply-to hs-button secondary">Reply to <em>'+o+"</em></button>");h+="</div>";return h}function d(){var t=void 0===arguments[0]?{}:arguments[0];e.ajax({cache:!0,dataType:"jsonp",jsonpCallback:"callback",jsonp:!1,scriptCharset:"UTF-8",url:t.commentsUrl}).then(function(n){v=t.skipAssociateContactReason;var o=t.commentsSelector||"#comments-listing",r=e(o);if(!(r.children(".comment").length>0)){var s=n.objects.map(function(e){return h(e,t)}).join("");r.append(s);l("#"+t.target);u(o);c(o);"function"==typeof hsPostCommentsComplete&&hsPostCommentsComplete(commentListing)}})}var f=250,p=/[?|&]success=true/,g=void 0,v=void 0;t.hsPopulateCommentsFeed=d;t.hsPopulateCommentFormOnFormReady=a;t.hsPopulateCommentFormOnFormSubmitted=o;t.hsPopulateCommentFormGetExtraMetaDataBeforeSubmit=n}(window,window.hsjQuery||window.jQuery);