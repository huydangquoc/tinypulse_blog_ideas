"use strict";!function(e,t){function n(){return{skipAssociateContactReason:v,replyingTo:g}}function o(t){if(!p.exec(e.location.search)){var n="success=true";e.location.search?e.location.search+="&"+n:e.location.search=n}}function r(e,n){var o=t(e);if(!(o&&o.find("form").length>0))return setTimeout(function(){return r(e,n)},f);o.prepend('<div class="hs-comment-message hs-common-confirm-message">'+n+"</div>");setTimeout(function(){return t("html, body").animate({scrollTop:o.offset().top})},f)}function s(t){var n=t.successMessage,o=t.target;p.exec(e.location.search)&&r(o,n)}function a(){var e=void 0===arguments[0]?{}:arguments[0],t=e.successMessage,n=e.target;return function(){return s({successMessage:t,target:n})}}function i(e){for(var t=e.split("."),n=0;n<t.length;n++){var o=t[n];if(4!==o.length||parseInt(o,10)<0||parseInt(o,10)>9999)return!1}return!0}function c(e){var n=location.hash.replace("#","");n&&i(n)&&!function(){var o=t(""+e+" [id='c"+n+"']");o.length>0&&t(function(){return t("html, body").animate({scrollTop:o.offset().top})})}()}function m(e){for(var t=e.split("."),n=-1,o=0;o<t.length;o++){var r=t[o];if("0000"===r)return n;n++}return n}function l(e){t(".comment-reply-to").on("click",function(){var n=t(this).parents(".comment");if(n){g=n.data("threadid");var o=t(e);if(o){t(".comment-reply-to").show();o.find("input[name=replyingTo]").remove();o.hide();o.addClass("replying");var r="Replying to "+t(this).find("em").html(),s=o.children(".replying-to");1===s.length?s.text(r):o.prepend('<span class="replying-to">'+r+"</span>");o.insertAfter(n);o.show();t(this).hide();t("html, body").animate({scrollTop:o.offset().top});o.find(".hs_comment .hs-input").focus()}}})}function u(n){var o=e.hljs;if(o&&o.highlightBlock){o.configure&&o.configure({useBR:!0});var r=t(n);r.find("pre code").each(function(e,t){return o.highlightBlock(t)})}}function h(e){var t=void 0===arguments[1]?{}:arguments[1],n=e.threadId,o=e.userName,r=e.userUrl,s=t.maxThreadDepth,a=t.showForm,i=m(n),c=s>i&&a,l=e.comment.replace(/\n/g,"<br/>"),u=new Date(e.createdAt).toLocaleString(),h='\n      <div id="c'+n+'" class="comment depth-'+i+'" data-threadid="'+n+'">\n      <div class="comment-from">\n      <h4>\n      ';if(r){var d=0!==r.indexOf("http")?"//"+r:r;h+='<a href="'+d+'" rel="nofollow" target="_blank">'+o+"</a>"}else h+=o;h+='\n      </h4>\n      </div>\n      <div class="comment-date">'+u+'</div>\n      <div class="comment-body"><p>'+l+"</p></div>\n      ";c&&(h+='<button class="comment-reply-to hs-button secondary">Reply to <em>'+o+"</em></button>");h+="</div>";return h}function d(){var e=void 0===arguments[0]?{}:arguments[0];t.ajax({cache:!0,dataType:"jsonp",jsonpCallback:"callback",jsonp:!1,scriptCharset:"UTF-8",url:e.commentsUrl}).then(function(n){v=e.skipAssociateContactReason;var o=e.commentsSelector||"#comments-listing",r=t(o);if(!(r.children(".comment").length>0)){var s=n.objects.map(function(t){return h(t,e)}).join("");r.append(s);l("#"+e.target);u(o);c(o);"function"==typeof hsPostCommentsComplete&&hsPostCommentsComplete(commentListing)}})}var f=250,p=/[?|&]success=true/,g=void 0,v=void 0;e.hsPopulateCommentsFeed=d;e.hsPopulateCommentFormOnFormReady=a;e.hsPopulateCommentFormOnFormSubmitted=o;e.hsPopulateCommentFormGetExtraMetaDataBeforeSubmit=n}(window,window.hsjQuery||window.jQuery);